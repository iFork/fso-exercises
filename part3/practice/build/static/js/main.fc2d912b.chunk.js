(this.webpackJsonppractice=this.webpackJsonppractice||[]).push([[0],{15:function(t,e,n){t.exports=n(38)},37:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),r=n(14),c=n.n(r),l=n(4),u=n(2),i=function(t){var e=t.note,n=t.toggleImportance,o=e.important?"Make not important":"Make important";return a.a.createElement("li",{className:"note"},e.content,a.a.createElement("button",{type:"button",onClick:n},o))},m=function(t){var e=t.message;return e?a.a.createElement("div",{className:"error"},e):null},s=function(){return a.a.createElement("div",{style:{color:"green",fontSize:16,fontStyle:"italic"}},a.a.createElement("br",null),a.a.createElement("em",null,"Note app, Department of Computer Science."))},f=n(3),p=n.n(f),d="https://young-mesa-19211.herokuapp.com/api/notes",g=function(){return p.a.get(d).then((function(t){return t.data})).then((function(t){return t.concat({id:200,content:"NON-existant note",date:"2020",important:!0})}))},b=function(t){return p.a.post(d,t).then((function(t){return t.data}))},h=function(t,e){return p.a.put("".concat(d,"/").concat(t),e).then((function(t){return t.data}))},E=function(){var t=Object(o.useState)([]),e=Object(u.a)(t,2),n=e[0],r=e[1],c=Object(o.useState)("a new note..."),f=Object(u.a)(c,2),p=f[0],d=f[1],E=Object(o.useState)(!0),v=Object(u.a)(E,2),O=v[0],j=v[1],S=Object(o.useState)(""),y=Object(u.a)(S,2),N=y[0],w=y[1];Object(o.useEffect)((function(){console.log("Effect"),g().then((function(t){console.log("response is:",t),r(t)}))}),[]),console.log("render",n.length,"notes");var k=O?n:n.filter((function(t){return t.important}));return a.a.createElement("div",null,a.a.createElement("h1",null,"Notes"),a.a.createElement(m,{message:N}),a.a.createElement("button",{type:"button",onClick:function(){return j(!O)}},"Show ",O?"Important":"All"),a.a.createElement("ul",null,k.map((function(t){return a.a.createElement(i,{key:t.id,note:t,toggleImportance:function(){return function(t){console.log("toggle importance of ".concat(t,"'th note"));var e=n.find((function(e){return e.id===t})),o=Object(l.a)(Object(l.a)({},e),{},{important:!e.important});h(t,o).then((function(e){return r(n.map((function(n){return n.id===t?e:n})))})).catch((function(o){console.log("failed w/ error:",o),w("Note '".concat(e.content,"' was already removed from the server")),setTimeout((function(){return w(null)}),5e3),r(n.filter((function(e){return e.id!==t})))}))}(t.id)}})}))),a.a.createElement("form",{onSubmit:function(t){t.preventDefault(),console.log("addNote called w/ event:",t.target);var e={content:p,date:(new Date).toISOString(),important:Math.random()>.5};b(e).then((function(t){console.log("post fulfilled, response is",t),r(n.concat(t))})),d("")}},a.a.createElement("label",null,"Note:"),a.a.createElement("input",{type:"text",id:"note_title",name:"note_title",value:p,onChange:function(t){console.log("handleChange called w/ event:",t.target),d(t.target.value)}}),a.a.createElement("button",{type:"submit"},"Add Note")),a.a.createElement(s,null))};n(37);c.a.render(a.a.createElement(E,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.fc2d912b.chunk.js.map